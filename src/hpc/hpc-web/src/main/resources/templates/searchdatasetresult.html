    <!doctype html>
    <html ng-app="app">
      <head>
        <link rel="stylesheet" type="text/css" href="../css/style.css" />
    	<link href="../css/bootstrap.min.css" rel="stylesheet"/>
    	<link href="../css/bootstrap-theme.css" rel="stylesheet"/>
   
        <script src="../js/angular/1.4.3/angular.js"></script>
        <script src="../js/angular/1.4.3/angular-touch.js"></script>
        <script src="../js/angular/1.4.3/angular-animate.js"></script>
        <script src="../js/ui-grid/csv.js"></script>
        <script src="../js/ui-grid/pdfmake.js"></script>
        <script src="../js/ui-grid/vfs_fonts.js"></script>
        <script src="../js/ui-grid/ui-grid.js"></script>
       <link rel="stylesheet" href="http://ui-grid.info/release/ui-grid.css" type="text/css"/>
<script th:inline="javascript">
/*<![CDATA[*/
    var results = "[[${datasetsearchresults}]]";
/*]]>*/
</script>

<script>
var app = angular.module('app', ['ngAnimate', 'ngTouch', 'ui.grid', 'ui.grid.grouping', 'ui.grid.pagination', 'ui.grid.resizeColumns', 'ui.grid.moveColumns']);

app.controller('MainCtrl', ['$scope', '$http', '$interval', 'uiGridGroupingConstants', function ($scope, $http, $interval, uiGridGroupingConstants ) {
  $scope.gridOptions1 = {
    enableSorting: true,
    enableFiltering: true,
    paginationPageSize: 25,
    treeRowHeaderAlwaysVisible: false,
    columnDefs: [
      { field: 'id', width:250, displayName: 'Dataset Id', grouping: { groupPriority: 0 }, sort: { priority: 1, direction: 'asc' }, cellTemplate: '<div><div ng-if="!col.grouping || col.grouping.groupPriority === undefined || col.grouping.groupPriority === null || ( row.groupHeader &amp;&amp; col.grouping.groupPriority === row.treeLevel )" class="ui-grid-cell-contents" title="TOOLTIP"><a href="../dataset?id={{grid.appScope.getId(grid, row)}}">{{COL_FIELD CUSTOM_FILTERS}}</a></div></div>'  },
      { field: 'datasetName', width:100, displayName : 'Dataset Name' },
      { field: 'investigatorId', width:100, displayName : 'Investigator' },
      { field: 'createdOn', width:100, displayName : 'Created On'},
      { field: 'registarId', width:100, displayName : 'Registered By'},
      { field: 'fundingOrganization', width:150, displayName : 'Funded By'},
      { field: 'creatorName', width:150, displayName : 'Created By'},
      { field: 'fileId', width:150, displayName : 'File Id'},
      { field: 'fileType', width:100, displayName : 'File Type'},
      { field: 'labBranch', width:100, displayName : 'Lab/Branch'}
      
    ],
    onRegisterApi: function( gridApi ) {
      $scope.grid1Api = gridApi;
    }
  };
  $scope.gridOptions1.data = results;

  $scope.expandAll = function(){
	    $scope.gridApi.treeBase.expandAllRows();
	  };

  $scope.getId = function(grid,row,col)
	  {
	    console.log(row);
	    if(row.treeNode.children[0].row.treeNode.children[0])
	    {
	      var entity = row.treeNode.children[0].row.treeNode.children[0].row.entity;
	      return entity.id;
	    }
	    else if(row.treeNode.children[0])
	    {
	      var entity = row.treeNode.children[0].row.entity;
	      return entity.id;
	    }

	    return row.entity.id;
	  }	  
}]);
</script>
	<style>
	/*style.css*/
.gridStyle {
    border: 1px solid rgb(212,212,212);
    width: 800px; 
    height: 400px
    
}
	</style>        
      </head>
      <body th:attr="ng-init='searchresults=\'' + ${datasetsearchresults} +'\''">
 <section id="container" class="">
  <div th:include="header :: header"></div>
      <!--main content start-->
      <section id="main-content">
          <section class="wrapper">
              <!--Title start-->
			  <div class="row">
				<div class="col-lg-12">
					<h3 class="page-header"><i class="fa fa-laptop"></i> Dashboard </h3>
					<ol class="breadcrumb">
						<li><i class="fa fa-home"></i><a th:href="@{/dashboard}">Dashboard </a> / <a th:href="@{/searchdataset}">Search</a></li>
					</ol>
				</div>
			 </div>
			<!--Title End-->
			<!--Row start-->
			<div class="row">
				<div class="col-lg-12 col-md-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h2><i class="fa fa-list-alt red"></i><strong>Datasets</strong></h2>
						</div>
						<!--panel-body start-->
						<div class="panel-body">
       <div ng-controller="MainCtrl">
           <div id="grid1" ui-grid="gridOptions1" ui-grid-cellNav="true" ui-grid-pagination="true" ui-grid-grouping="true" ui-grid-resize-columns="true" ui-grid-move-columns="true"></div>
        </div>
						</div>
						</div>

					</div>

				</div><!--/col-->

          </section>
      </section>
      <!--main content end-->
  </section>      
  
      </body>
    </html>