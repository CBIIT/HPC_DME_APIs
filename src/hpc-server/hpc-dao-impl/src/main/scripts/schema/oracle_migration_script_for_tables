CREATE TABLE "IRODS"."HPC_BULK_DATA_OBJECT_REGISTRATION_RESULT"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR2(50) NOT NULL,
   RESULT char(1) NOT NULL,
   MESSAGE VARCHAR2(4000),
   ITEMS CLOB,
   CREATED timestamp NOT NULL,
   COMPLETED timestamp NOT NULL,
   EFFECTIVE_TRANSFER_SPEED number(10)
)
;

CREATE TABLE "IRODS"."HPC_BULK_DATA_OBJECT_REGISTRATION_TASK"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR2(50),
   STATUS VARCHAR2(50),
   ITEMS CLOB,
   CREATED timestamp,
   UI_URL VARCHAR2(2000)
)
;

CREATE TABLE "IRODS"."HPC_CATALOG_ATTRIBUTE"
(
   level_label VARCHAR2(50) NOT NULL,
   meta_attr_name VARCHAR2(250) NOT NULL,
   CONSTRAINT HPC_CATALOG_ATTRIBUTE_pkey PRIMARY KEY (level_label,meta_attr_name)
)
;

CREATE TABLE "IRODS"."HPC_COLLECTION_DOWNLOAD_TASK"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR(50),
   TYPE VARCHAR(50) NOT NULL,
   PATH VARCHAR2(2700),
   CONFIGURATION_ID VARCHAR2(50),
   DATA_OBJECT_PATHS CLOB,
   DESTINATION_LOCATION_FILE_CONTAINER_ID VARCHAR2(50),
   DESTINATION_LOCATION_FILE_ID VARCHAR2(2700),
   DESTINATION_OVERWRITE char(1),
   S3_ACCOUNT_ACCESS_KEY blob,
   S3_ACCOUNT_SECRET_KEY blob,
   S3_ACCOUNT_REGION VARCHAR2(50),
   STATUS VARCHAR2(50),
   ITEMS CLOB,
   CREATED timestamp,
   PRIORITY number(10) DEFAULT 100,
   COLLECTION_PATHS CLOB,
   APPEND_PATH_TO_DOWNLOAD_DESTINATION char(1),
   CANCELLATION_REQUESTED char(1),
   GOOGLE_DRIVE_ACCESS_TOKEN blob,
   IN_PROCESS char(1) DEFAULT 'N' NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_DATA_MANAGEMENT_AUDIT"
(
   USER_ID VARCHAR2(50) NOT NULL,
   PATH VARCHAR2(2000) NOT NULL,
   REQUEST_TYPE VARCHAR2(50) NOT NULL,
   METADATA_BEFORE CLOB NOT NULL,
   METADATA_AFTER CLOB,
   ARCHIVE_FILE_CONTAINER_ID VARCHAR2(200),
   ARCHIVE_FILE_ID VARCHAR2(2700),
   DATA_MANAGEMENT_STATUS char(1) NOT NULL,
   DATA_TRANSFER_STATUS char(1),
   MESSAGE VARCHAR2(2700),
   COMPLETED timestamp NOT NULL
)
;


CREATE TABLE "IRODS"."HPC_DATA_MANAGEMENT_CONFIGURATION"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   BASE_PATH VARCHAR2(50) NOT NULL,
   DOC VARCHAR2(50) NOT NULL,
   DATA_HIERARCHY CLOB,
   COLLECTION_METADATA_VALIDATION_RULES CLOB,
   DATA_OBJECT_METADATA_VALIDATION_RULES CLOB,
   GLOBUS_URL VARCHAR2(2700) NOT NULL,
   GLOBUS_ARCHIVE_ENDPOINT VARCHAR2(2700) NOT NULL,
   GLOBUS_ARCHIVE_PATH VARCHAR2(2700) NOT NULL,
   GLOBUS_ARCHIVE_DIRECTORY VARCHAR2(2700) NOT NULL,
   GLOBUS_ARCHIVE_TYPE VARCHAR2(50) NOT NULL,
   GLOBUS_DOWNLOAD_ENDPOINT VARCHAR2(2700),
   GLOBUS_DOWNLOAD_PATH VARCHAR2(2700),
   GLOBUS_DOWNLOAD_DIRECTORY VARCHAR2(2700),
   S3_UPLOAD_ARCHIVE_CONFIGURATION_ID VARCHAR2(50),
   S3_DEFAULT_DOWNLOAD_ARCHIVE_CONFIGURATION_ID VARCHAR2(50)
)
;



CREATE TABLE "IRODS"."HPC_DATA_OBJECT_DOWNLOAD_TASK"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR2(50),
   PATH VARCHAR2(2700),
   CONFIGURATION_ID VARCHAR2(50),
   DATA_TRANSFER_REQUEST_ID VARCHAR2(50),
   DATA_TRANSFER_TYPE VARCHAR2(50),
   DATA_TRANSFER_STATUS VARCHAR2(50),
   DOWNLOAD_FILE_PATH VARCHAR2(2700),
   ARCHIVE_LOCATION_FILE_CONTAINER_ID VARCHAR2(50),
   ARCHIVE_LOCATION_FILE_ID VARCHAR2(2700),
   DESTINATION_LOCATION_FILE_CONTAINER_ID VARCHAR2(50),
   DESTINATION_LOCATION_FILE_ID VARCHAR2(2700),
   COMPLETION_EVENT char(1),
   PERCENT_COMPLETE number(10),
   DATA_SIZE number(19),
   CREATED timestamp,
   DESTINATION_TYPE VARCHAR2(50),
   S3_ACCOUNT_ACCESS_KEY blob,
   S3_ACCOUNT_SECRET_KEY blob,
   S3_ACCOUNT_REGION VARCHAR2(50),
   PRIORITY number(10) DEFAULT 100,
   S3_ARCHIVE_CONFIGURATION_ID VARCHAR2(50),
   PROCESSED timestamp,
   GOOGLE_DRIVE_ACCESS_TOKEN blob
)
;

CREATE TABLE "IRODS"."HPC_DATA_OBJECT_REGISTRATION_RESULT"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   PATH VARCHAR2(2700) NOT NULL,
   USER_ID VARCHAR2(50) NOT NULL,
   UPLOAD_METHOD VARCHAR2(50),
   RESULT char(1) NOT NULL,
   MESSAGE VARCHAR2(4000),
   EFFECTIVE_TRANSFER_SPEED number(10),
   DATA_TRANSFER_REQUEST_ID VARCHAR(50),
   SOURCE_LOCATION_FILE_ID VARCHAR2(2700),
   SOURCE_LOCATION_FILE_CONTAINER_ID VARCHAR2(50),
   SOURCE_LOCATION_FILE_CONTAINER_NAME VARCHAR2(250),
   CREATED timestamp NOT NULL,
   COMPLETED timestamp NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_DOWNLOAD_TASK_RESULT"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR2(50) NOT NULL,
   TYPE VARCHAR2(50) NOT NULL,
   PATH VARCHAR2(2700),
   DATA_TRANSFER_REQUEST_ID VARCHAR2(50),
   DATA_TRANSFER_TYPE VARCHAR2(50),
   DESTINATION_LOCATION_FILE_CONTAINER_ID VARCHAR2(50) NOT NULL,
   DESTINATION_LOCATION_FILE_ID VARCHAR2(2700) NOT NULL,
   RESULT VARCHAR2(50) NOT NULL,
   MESSAGE VARCHAR2(4000),
   ITEMS CLOB,
   CREATED timestamp NOT NULL,
   COMPLETED timestamp NOT NULL,
   COMPLETION_EVENT char(1),
   EFFECTIVE_TRANSFER_SPEED number(10),
   DESTINATION_TYPE VARCHAR2(50),
   DATA_SIZE number(19),
   DESTINATION_LOCATION_FILE_CONTAINER_NAME VARCHAR2(250)
)
;

CREATE TABLE "IRODS"."HPC_EVENT"
(
   ID number(10) PRIMARY KEY NOT NULL,
   USER_IDS VARCHAR2(4000) NOT NULL,
   TYPE VARCHAR2(50) NOT NULL,
   PAYLOAD blob,
   CREATED timestamp NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_EVENT_HISTORY"
(
   ID number(10) PRIMARY KEY NOT NULL,
   USER_IDS VARCHAR2(4000) NOT NULL,
   TYPE VARCHAR2(50) NOT NULL,
   PAYLOAD blob,
   CREATED timestamp NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_NOTIFICATION_DELIVERY_RECEIPT"
(
   EVENT_ID number(10) NOT NULL,
   USER_ID VARCHAR2(50) NOT NULL,
   NOTIFICATION_DELIVERY_METHOD VARCHAR2(50) NOT NULL,
   DELIVERY_STATUS char(1) NOT NULL,
   DELIVERED timestamp NOT NULL,
   CONSTRAINT HPC_NOTIFICATION_DELIVERY_RECEIPT_pkey PRIMARY KEY (EVENT_ID,USER_ID,NOTIFICATION_DELIVERY_METHOD)
)
;


CREATE TABLE "IRODS"."HPC_NOTIFICATION_SUBSCRIPTION"
(
   ID number(10) PRIMARY KEY NOT NULL,
   USER_ID VARCHAR2(50) NOT NULL,
   EVENT_TYPE VARCHAR2(50) NOT NULL,
   NOTIFICATION_DELIVERY_METHODS VARCHAR(250) NOT NULL
)
;

CREATE UNIQUE INDEX HPC_NOTIFICATION_SUBSCRIPTION_unique ON "IRODS"."HPC_NOTIFICATION_SUBSCRIPTION"
(
  USER_ID,
  EVENT_TYPE
)
;
CREATE TABLE "IRODS"."HPC_NOTIFICATION_TRIGGER"
(
   NOTIFICATION_SUBSCRIPTION_ID number(10),
   NOTIFICATION_TRIGGER VARCHAR(2700)
)
;
ALTER TABLE "IRODS"."HPC_NOTIFICATION_TRIGGER"
ADD CONSTRAINT HPC_NOTIFICATION_TRIGGER_NOTIFICATION_SUBSCRIPTION_ID_fkey
FOREIGN KEY (NOTIFICATION_SUBSCRIPTION_ID)
REFERENCES "IRODS"."HPC_NOTIFICATION_SUBSCRIPTION"(ID) ON DELETE CASCADE
;

CREATE TABLE "IRODS"."HPC_S3_ARCHIVE_CONFIGURATION"
(
   ID VARCHAR2(50) PRIMARY KEY NOT NULL,
   PROVIDER VARCHAR2(50) NOT NULL,
   DATA_MANAGEMENT_CONFIGURATION_ID VARCHAR2(50) NOT NULL,
   URL_OR_REGION VARCHAR2(50) NOT NULL,
   BUCKET VARCHAR2(250) NOT NULL,
   OBJECT_ID VARCHAR2(50) NOT NULL,
   UPLOAD_REQUEST_URL_EXPIRATION number(10) NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_SYSTEM_ACCOUNT"
(
   ID number(10) PRIMARY KEY NOT NULL,
   SYSTEM VARCHAR2(50) NOT NULL,
   CLASSIFIER VARCHAR2(50),
   DATA_TRANSFER_TYPE VARCHAR2(50),
   USERNAME VARCHAR2(250) NOT NULL,
   PASSWORD blob NOT NULL
)
;

CREATE TABLE "IRODS"."HPC_USER"
(
   USER_ID VARCHAR(50) PRIMARY KEY NOT NULL,
   FIRST_NAME VARCHAR2(250),
   LAST_NAME VARCHAR2(250),
   CREATED date,
   LAST_UPDATED date,
   DOC VARCHAR2(50),
   ACTIVE char(1),
   ACTIVE_UPDATED_BY VARCHAR2(250),
   DEFAULT_CONFIGURATION_ID VARCHAR2(50)
)
;

CREATE TABLE "IRODS"."HPC_USER_BOOKMARK"
(
   USER_ID VARCHAR2(50) NOT NULL,
   BOOKMARK_NAME VARCHAR2(250) NOT NULL,
   BOOKMARK_GROUP VARCHAR2(250),
   PATH VARCHAR2(2700) NOT NULL,
   CREATED timestamp NOT NULL,
   UPDATED timestamp NOT NULL,
   CONSTRAINT HPC_USER_BOOKMARK_pkey PRIMARY KEY (USER_ID,BOOKMARK_NAME)
)
;

CREATE TABLE "IRODS"."HPC_USER_QUERY"
(
   USER_ID VARCHAR2(50) NOT NULL,
   QUERY_NAME VARCHAR2(250) NOT NULL,
   QUERY blob NOT NULL,
   DETAILED_RESPONSE char(1) NOT NULL,
   TOTAL_COUNT char(1) NOT NULL,
   QUERY_TYPE VARCHAR2(50) NOT NULL,
   CREATED timestamp NOT NULL,
   UPDATED timestamp NOT NULL,
   CONSTRAINT HPC_USER_QUERY_pkey PRIMARY KEY (USER_ID,QUERY_NAME)
)
;

